{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container mt-4">
    <h1 class="mb-4">Update Dish</h1>
    <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="mb-3">
            <label for="{{ form.name.id_for_label }}" class="form-label"><strong>Name:</strong></label>
            <input type="text" id="{{ form.name.id_for_label }}" name="{{ form.name.html_name }}" value="{{ form.name.value }}" class="form-control">
        </div>

        <div class="mb-3">
            <label for="{{ form.description.id_for_label }}" class="form-label"><strong>Description:</strong></label>
            <textarea id="{{ form.description.id_for_label }}" name="{{ form.description.html_name }}" class="form-control">{{ form.description.value }}</textarea>
        </div>

        <div class="mb-3">
            <label for="availability" class="form-label"><strong>Availability:</strong></label>
            <select class="form-select" id="availability" name="availability">
                {% if dish.availability == "available" %}
                    <option value="available">Available</option>
                    <option value="notavailable">Not available</option>
                {% else %}
                    <option value="notavailable">Not available</option>
                    <option value="available">Available</option>
                {% endif %}
            </select>
        </div>

        <div class="mb-3">
            <label for="{{ form.price.id_for_label }}" class="form-label"><strong>Price:</strong></label>
            <input type="number" id="{{ form.price.id_for_label }}" name="{{ form.price.html_name }}" value="{{ form.price.value }}" class="form-control" step="0.01">
        </div>

        <div class="mb-3">
            <label for="{{ form.image.id_for_label }}" class="form-label"><strong>Image:</strong></label>
            <input type="file" id="{{ form.image.id_for_label }}" name="{{ form.image.html_name }}" class="form-control">
        </div>

        {% if dish.image %}
            <div class="mb-3">
                <input type="checkbox" class="btn-check" name="image-clear" id="image-clear" autocomplete="off">
                <label class="btn btn-outline-danger" for="image-clear">Delete image</label>
            </div>
        {% endif %}

        <button type="submit" class="btn btn-primary">Update Dish</button>
    </form>
</div>
{% endblock %}
